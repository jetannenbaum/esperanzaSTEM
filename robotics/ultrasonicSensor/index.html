
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Resources for teaching Python to Esperanza Academy students.  All content licensed Creative Commons ShareAlike Attribution Noncommercial">
      
      
        <meta name="author" content="Jim Tannenbaum">
      
      
      
        <link rel="prev" href="../lights/">
      
      
        <link rel="next" href="../obstacles/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Collision Avoidance - Esperanza STEM</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#collision-avoidance-with-an-ultrasonic-sensor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Esperanza STEM" class="md-header__button md-logo" aria-label="Esperanza STEM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Esperanza STEM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Collision Avoidance
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jetannenbaum/EsperanzaSTEM" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Esperanza STEM" class="md-nav__button md-logo" aria-label="Esperanza STEM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Esperanza STEM
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jetannenbaum/EsperanzaSTEM" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/whyPython/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/trinket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting Up Trinket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/turtle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Turtle Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/simpleSquare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawing a Square
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/turtleTricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What Else Can a Turtle Do?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/usingVariables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/fourSquares/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawing Four Squares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/loops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exploring Loops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/conditionals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conditionals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lists
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Variable Scope
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/tryExcept/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exception Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/recursion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recursion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/towers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Towers of Hanoi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/eight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Eight Queens
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MicroPython
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MicroPython
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/pico/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi Pico
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/thonny/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thonny
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing MicroPython
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/breadboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Breadboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/onboardBlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blink Onboard LED
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/alternatingBlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternating LEDs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/buttonPressPoll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Polling)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/buttonPressInterrupt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Interrupt)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/pwm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pulse Width Modulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/adc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog to Digital Converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/photoResistor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photo Resistor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/neopixel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NeoPixel Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/ssd1306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Digital Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/joystick/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joystick
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/buzzer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buzzer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" >
        
          
          <label class="md-nav__link" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Solutions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            Solutions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternating LEDs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab3p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Polling)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab3i/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Interrupt)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pulse Width Modulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog to Digital Converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photo Resistor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NeoPixel Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Digital Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joystick
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buzzer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotCar/makerPiRP2040Bot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Robot Car
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Robotics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Robotics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chassisBuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chassis Build
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../movement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Movement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functionsLoops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions and Loops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding Lights
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Collision Avoidance
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Collision Avoidance
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mounting-the-sensor" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting the Sensor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-brief-lesson-on-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      A Brief Lesson on Conditionals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A Brief Lesson on Conditionals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-equvalence" class="md-nav__link">
    <span class="md-ellipsis">
      Test Equvalence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Conditionals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-are-conditionals-used" class="md-nav__link">
    <span class="md-ellipsis">
      When are Conditionals Used?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#we-need-a-library-to-use-the-sensor" class="md-nav__link">
    <span class="md-ellipsis">
      We Need a Library to use the Sensor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="We Need a Library to use the Sensor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lets-test" class="md-nav__link">
    <span class="md-ellipsis">
      Let's Test!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-happening" class="md-nav__link">
    <span class="md-ellipsis">
      What's Happening?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obstacles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Avoiding Obstacles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lineFollowing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Line Following
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mounting-the-sensor" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting the Sensor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-brief-lesson-on-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      A Brief Lesson on Conditionals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A Brief Lesson on Conditionals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-equvalence" class="md-nav__link">
    <span class="md-ellipsis">
      Test Equvalence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-conditionals" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Conditionals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-are-conditionals-used" class="md-nav__link">
    <span class="md-ellipsis">
      When are Conditionals Used?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#we-need-a-library-to-use-the-sensor" class="md-nav__link">
    <span class="md-ellipsis">
      We Need a Library to use the Sensor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="We Need a Library to use the Sensor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lets-test" class="md-nav__link">
    <span class="md-ellipsis">
      Let's Test!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-happening" class="md-nav__link">
    <span class="md-ellipsis">
      What's Happening?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="collision-avoidance-with-an-ultrasonic-sensor">Collision Avoidance with an Ultrasonic Sensor</h1>
<p>The ultrasonic sensor measures distance using sonar, an ultrasonic (well above human hearing) pulse (~40KHz) is transmitted from the unit and distance-to-target is determined by measuring the time required for the echo return.  </p>
<h2 id="mounting-the-sensor">Mounting the Sensor</h2>
<p>Find the ultrasonic sensor, mount, wire ties, grove connector wire, and screws in the box.  The sensor is in a bag labeled SN-HC-SR04P.  Use the silver screws.</p>
<p><img alt="sensor and mount" src="../img/sensorAndMount.jpg" /><img alt="Sensor Assembly" src="../img/SensorAssembly.jpg" /><img alt="Sensor Mounted" src="../img/SensorMounted.jpg" /><img alt="Sensor Wired" src="../img/SensorWired.jpg" /></p>
<p>Insert the ultrasonic sensor in the mount with the pins up (it will appear as if the sensor is mounted upside down, well it is).  Then attach the mount to the front of the chassis with the silver screws.  Thread the wires from the grove 5 port through the chassis and back to the sensor.  Use a small wire tie to keep the wires secure.</p>
<p>The pins are labeled on the front of the module - Vcc  (3.3 VDC), Trig, Echo, and Gnd.</p>
<p>Connect the grove connector wires to the sensor as follows:</p>
<table>
<thead>
<tr>
<th>Wire Color</th>
<th>Sensor Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>Vcc</td>
</tr>
<tr>
<td>White</td>
<td>Trig</td>
</tr>
<tr>
<td>Yellow</td>
<td>Echo</td>
</tr>
<tr>
<td>Black</td>
<td>Gnd</td>
</tr>
</tbody>
</table>
<h2 id="a-brief-lesson-on-conditionals">A Brief Lesson on Conditionals</h2>
<h3 id="test-equvalence">Test Equvalence</h3>
<table>
<thead>
<tr>
<th>Condition</th>
<th>Test</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Equals</td>
<td>a == b</td>
<td>2 + 3 == 5</td>
</tr>
<tr>
<td>Not Equals</td>
<td>a != b</td>
<td>2 + 2 ! = 5</td>
</tr>
<tr>
<td>Less Than</td>
<td>a &lt; b</td>
<td>2 &lt; 5</td>
</tr>
<tr>
<td>Less Than or Equal</td>
<td>a &lt;= b</td>
<td>2 + 2 &lt;= 5</td>
</tr>
<tr>
<td>Greater Than</td>
<td>a &gt; b</td>
<td>5 &gt; 2</td>
</tr>
<tr>
<td>Greater Than or Equal</td>
<td>a &gt;= b</td>
<td>5 &gt;= 2 + 2</td>
</tr>
</tbody>
</table>
<h3 id="logical-conditionals">Logical Conditionals</h3>
<table>
<thead>
<tr>
<th>Condition</th>
<th>Expression</th>
<th>Explanation</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>And</td>
<td>a and b</td>
<td>Both must be true</td>
<td>a == b and c == d</td>
</tr>
<tr>
<td>Or</td>
<td>a or b</td>
<td>Either must be true</td>
<td>a == b or c == d</td>
</tr>
</tbody>
</table>
<h3 id="when-are-conditionals-used">When are Conditionals Used?</h3>
<p>They are used when we want to test conditions in an if statement:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">if</span> <span class="n">distance_cm</span> <span class="o">&gt;</span> <span class="n">COLLISION_DISTANCE_CM</span><span class="p">:</span>
   <span class="n">forward</span><span class="p">(</span><span class="n">FULL_SPEED</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">distance_cm</span> <span class="o">&lt;=</span> <span class="n">COLLISION_DISTANCE_CM</span> <span class="ow">and</span> <span class="n">distance_cm</span> <span class="o">&gt;</span> <span class="n">HALF_COLLISION_DISTANCE_CM</span><span class="p">:</span>
   <span class="n">forward</span><span class="p">(</span><span class="n">HALF_SPEED</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h2 id="we-need-a-library-to-use-the-sensor">We Need a Library to use the Sensor</h2>
<p>Use your browser and search for: Roberto Sánchez hcsr04.  Then select <a href="https://github.com/rsc1975/micropython-hcsr04/blob/master/hcsr04.py">micropython-hcsr04/hcsr0.py at master</a> from the result list.</p>
<p>Copy the code from the page by clicking on the Raw icon</p>
<p><img alt="Raw Icon" src="../img/githubRawCopy.jpg" /></p>
<p>Paste the code into a Thonny window, then save it as hcsr04.py to the Maker Pi RP2040 board (use the Raspberry Pi Pico)</p>
<h3 id="lets-test">Let's Test!</h3>
<p>Open a new window in Thonny and type the following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hcsr04</span><span class="w"> </span><span class="kn">import</span> <span class="n">HCSR04</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">PWM</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># Search for Roberto Sánchez hcsr04 to get the library</span>

<span class="n">CHECK_DISTANCE_CM</span> <span class="o">=</span> <span class="mi">25</span>

<span class="n">sensor</span> <span class="o">=</span> <span class="n">HCSR04</span><span class="p">(</span><span class="n">trigger_pin</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">echo_pin</span><span class="o">=</span><span class="mi">26</span><span class="p">)</span>
<span class="n">buzzer</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="mi">22</span><span class="p">))</span>
<span class="n">buzzer</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">distance_cm</span> <span class="o">=</span> <span class="n">sensor</span><span class="o">.</span><span class="n">distance_cm</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">distance_cm</span> <span class="o">&lt;</span> <span class="n">CHECK_DISTANCE_CM</span><span class="p">:</span>
        <span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">3500</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="whats-happening">What's Happening?</h3>
<p>Start the program.  Use your hand to move close to the sensor.  Do you hear the buzzer alert you that you are close to the sensor?  The code is calling the library you stored on the Maker Pi RP2040 board with the parameters that define the pins used to get a reading.  Next, we'll use the internal buzzer on the board to let us know when something is close to the sensor.  Finally, the code loops forwever, getting the distance measurement and comparing it to the CHECK_DISTANCE_CM.  If your hand is within range, the buzzer makes a sound.</p>
<div class="admonition challenge">
<p class="admonition-title">Challenge</p>
<p>Using what you just learned, can you modify the main.py code so:</p>
<ol>
<li>
<p>Starting at 100cm: forward duty_cycle is 60,000 and the LEDs are Green</p>
</li>
<li>
<p>At 50cm from the barrier: the forward duty_cycle is 30,000 and the LEDs are Yellow</p>
</li>
<li>
<p>At 20cm from the barrier: the car stops before hitting a barrier and the LEDs are Red?</p>
</li>
</ol>
<p>Note: the car should move forward in a straight line, so you may have to modify the forward duty_cycle for each wheel.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>