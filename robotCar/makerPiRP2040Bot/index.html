
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Resources for teaching Python to Esperanza Academy students.  All content licensed Creative Commons ShareAlike Attribution Noncommercial">
      
      
        <meta name="author" content="Jim Tannenbaum">
      
      
      
        <link rel="prev" href="../../micropython/solutions/lab10/">
      
      
        <link rel="next" href="../../robotics/chassisBuild/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Robot Car - Esperanza STEM</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#building-a-remote-control-robot-car-with-the-maker-pi-rp2040" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Esperanza STEM" class="md-header__button md-logo" aria-label="Esperanza STEM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Esperanza STEM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Robot Car
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jetannenbaum/EsperanzaSTEM" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Esperanza STEM" class="md-nav__button md-logo" aria-label="Esperanza STEM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Esperanza STEM
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jetannenbaum/EsperanzaSTEM" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/whyPython/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/trinket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting Up Trinket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/turtle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Turtle Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/simpleSquare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawing a Square
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/turtleTricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What Else Can a Turtle Do?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/usingVariables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/fourSquares/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drawing Four Squares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/loops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exploring Loops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/conditionals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conditionals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lists
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/scope/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Variable Scope
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/tryExcept/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exception Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/recursion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recursion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/towers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Towers of Hanoi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/eight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Eight Queens
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MicroPython
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MicroPython
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/pico/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Raspberry Pi Pico
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/thonny/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Thonny
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing MicroPython
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/breadboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Breadboard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/onboardBlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blink Onboard LED
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/alternatingBlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternating LEDs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/buttonPressPoll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Polling)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/buttonPressInterrupt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Interrupt)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/pwm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pulse Width Modulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/adc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog to Digital Converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/photoResistor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photo Resistor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/neopixel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NeoPixel Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/ssd1306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Digital Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/joystick/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joystick
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/buzzer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buzzer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" >
        
          
          <label class="md-nav__link" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Solutions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            Solutions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alternating LEDs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab3p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Polling)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab3i/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Button Press (Interrupt)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pulse Width Modulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog to Digital Converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photo Resistor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NeoPixel Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Digital Display
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Joystick
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../micropython/solutions/lab10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buzzer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Robot Car
    
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Robotics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Robotics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/chassisBuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chassis Build
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/movement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Movement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/functionsLoops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions and Loops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/lights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding Lights
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/ultrasonicSensor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Collision Avoidance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/obstacles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Avoiding Obstacles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../robotics/lineFollowing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Line Following
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="building-a-remote-control-robot-car-with-the-maker-pi-rp2040">Building a remote control robot car with the Maker Pi RP2040</h1>
<p><img alt="RP2040 Robot-Car" src="../img/BlueToothMounted.jpg" /></p>
<p>This was the robot car that is built using the parts kit as descriped below.</p>
<p>The bot brain is the Maker Pi RP2040.  The Maker Pi board makes building a bot simple, since it is a one board solution built around the RP2040 (the same controller used in the Raspberry Pi Pico).  The board comes with a dual channel DC motor driver, four servo motor ports, seven grove ports, a piezo, and two multi color leds. </p>
<p><a href="https://www.cytron.io/p-maker-pi-rp2040-simplifying-robotics-with-raspberry-pi-rp2040">Maker Pi RP2040 Information</a></p>
<p><strong>The parts kit includes:</strong></p>
<p><img alt="full kit" src="../img/HastieParts.jpg" /></p>
<table>
<thead>
<tr>
<th>Description</th>
<th>Part</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chassis kit</td>
<td><img alt="Chassis" src="../img/Chassis-Kit.jpg" /></td>
</tr>
<tr>
<td>Maker Pi RP2040</td>
<td><img alt="RP2040" src="../img/maker-pi-rp2040-top-view.png" /></td>
</tr>
<tr>
<td>HC-05 or AT-09 Bluetooth module</td>
<td><img alt="Bluetooth modules" src="../img/HC-05_AT-09.jpg" /></td>
</tr>
<tr>
<td>Ultrasonic sensor and mount</td>
<td><img alt="sensor and mount" src="../img/sensorAndMount.jpg" /></td>
</tr>
</tbody>
</table>
<p>Additional parts (not included in the kit):</p>
<ul>
<li>Nuts, bolts, and spacers</li>
<li>Wire ties to secure wires</li>
<li>Four AA batteries</li>
<li>USB Micro B Cable</li>
<li>Two optional IR Sensors for line following <img alt="IR Sensor" src="../img/IRSensor.jpg" /></li>
</ul>
<p><strong>Additional software required:</strong></p>
<ul>
<li>An IDE capable of supporting MicroPython, for example: <a href="https://thonny.org/">Thonny</a></li>
<li>Software capable of connecting to and writing to the bluetooth module, for example: LightBlue, available in the iOS &amp; Google Play app stores.  An alternative for Android users is BlueSerial.</li>
</ul>
<p><strong>There are several parts to this project.  Let's break them down by tasks:</strong></p>
<ul>
<li>Remove the default CircuitPython run-time</li>
<li>Install the MicroPython run-time</li>
<li>Communicate with the bluetooth module</li>
<li>Get data from the ultrasonic sensor</li>
<li>Assemble the chassis </li>
<li>Putting it all together</li>
</ul>
<p><strong>Remove the default CircuitPython run-time</strong></p>
<p>The Maker Pi RP2040 comes with the CircuitPython run-time. The first step is to remove CycuitPython with the run-time flash_nuke available <a href="https://www.raspberrypi.org/documentation/pico/getting-started/static/6f6f31460c258138bd33cc96ddd76b91/flash_nuke.uf2">here</a></p>
<p>Download the flash_nuke.utf file to your local machine.  With the switch in the off position on the board, connect the board to your computer via the USB cable.  Press and hold the BOOT button (button closest to the Grove 1 port), then turn on the power.  This will make the board look like a USB drive. You can then just drag the flash_nuke.utf file onto the drive and the board will be initialized. Make sure to power the board off and back on without pressing the BOOT button.</p>
<p><strong>Install the MicroPython run-time</strong></p>
<p>Download the MicroPython run-tme, available <a href="https://micropython.org/download/rp2-pico/rp2-pico-latest.uf2">here</a></p>
<p>Once again, turn off the board, hold down the BOOT button, and turn on the board.  You should see the board show up as a USB drive again.  Drag the new utf file over to the drive, turn the power off, and turn it back on without pressing the BOOT button.  The MicroPython run-time should now be loaded onto your board.</p>
<p>Assuming you are using the Thonny IDE, you should be able to configure the application to use the Raspberry Pi Pico MicroPython interface.  When you are done, press the Stop/Reset button and you should see the MicroPython RPEL prompt identifying the version of MicroPython running on your board.</p>
<p><strong>Communicate with the bluetooth module</strong></p>
<p>The bluetooth modules communicate at 9600 baud by default, although some older modules use 115200 baud.  Communication is done through the built in UART on the board.  The settings (baud rate, name, etc.) can be changed by sending AT commands to the module.  Sending "AT+HELP" to the module will return a list of supported commands.</p>
<p>The AT commands for getting/setting baud rate are:</p>
<table>
<thead>
<tr>
<th>Send</th>
<th>Receive</th>
<th>Parameter</th>
</tr>
</thead>
<tbody>
<tr>
<td>AT+BAUD?</td>
<td>OK+Get:[P1]</td>
<td>P1: Baud Rate</td>
</tr>
<tr>
<td>AT+BAUD[P1]</td>
<td>OK+Set:[P1]</td>
<td>0: 9600; 1: 19200; 2: 38400</td>
</tr>
<tr>
<td>.</td>
<td></td>
<td>3: 57600; 4: 115200; 5: 4800</td>
</tr>
<tr>
<td>.</td>
<td></td>
<td>6: 2400; 7: 1200; 8: 230400</td>
</tr>
<tr>
<td>.</td>
<td></td>
<td>Default: 0 (9600)</td>
</tr>
</tbody>
</table>
<p>The pins are usually labelled on the back of the module.  Your module with either have six or four pins.  Ignoring the outer most pins (assuming your module has six pins), the pins from left to right as you look at the back of the board are VCC (3.3 VDC), Gnd, Tx, &amp; Rx.  Connect the grove connector wires as follows:</p>
<table>
<thead>
<tr>
<th>Wire Color</th>
<th>Module Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>VCC</td>
</tr>
<tr>
<td>Black</td>
<td>GND</td>
</tr>
<tr>
<td>Yellow</td>
<td>TXD</td>
</tr>
<tr>
<td>White</td>
<td>RXD</td>
</tr>
</tbody>
</table>
<p>Connect the other end of the grove wire harness to the grove 3 port.  Using the following code and your bluetooth application of choice, you should be able to send data to the board and have it display in the terminal window.</p>
<p>N.B.: If you are using an Apple device to communicate with the bluetooth module, you must use the AT-09 module.  Apple does not support the HC-05 bluetooth version.</p>
<p>An additional note: Some of the BlueTooth modules require a pairing code.  You can find the pairing code by sending AT+PAIR through the UART to the module.  The module will then return the pairing code.  Code to write to the UART is <em>not</em> included here, but is available elsewhere on the site.</p>
<p>This is the code:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">UART</span>

<span class="c1"># Get the data from the UART</span>
<span class="k">def</span><span class="w"> </span><span class="nf">readUartBytes</span><span class="p">(</span><span class="n">uart</span><span class="p">):</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
    <span class="k">while</span> <span class="n">uart</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">resp</span><span class="p">,</span> <span class="n">uart</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
    <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c1"># Create the UART</span>
<span class="n">uart0</span> <span class="o">=</span> <span class="n">UART</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">tx</span><span class="o">=</span><span class="n">Pin</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">rx</span><span class="o">=</span><span class="n">Pin</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Loop</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">readUartBytes</span><span class="p">(</span><span class="n">uart0</span><span class="p">))</span> 
    <span class="k">if</span> <span class="n">data</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<strong>Get data from the ultrasonic sensor</strong></p>
<p>The ultrasonic sensor measures distance using sonar, an ultrasonic (well above human hearing) pulse (~40KHz) is transmitted from the unit and distance-to-target is determined by measuring the time required for the echo return.  The pins are labeled on the front of the module - Vcc  (3.3 VDC), Trig, Echo, and Gnd.</p>
<p>Connect the grove connector wires as follows:</p>
<table>
<thead>
<tr>
<th>Wire Color</th>
<th>Sensor Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>Red</td>
<td>Vcc</td>
</tr>
<tr>
<td>White</td>
<td>Trig</td>
</tr>
<tr>
<td>Yellow</td>
<td>Echo</td>
</tr>
<tr>
<td>Black</td>
<td>Gnd</td>
</tr>
</tbody>
</table>
<p>Connect the other end of the grove wire harness to the grove 5 port.  Once connected, wave your hand over the sensor and have it display distance in the terminal window.  For our purposes, we'll convert the measurement to inches.</p>
<p>The code is below</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pin</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">utime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="c1"># Using Grove 5 Connector</span>
<span class="n">TRIGGER_PIN</span> <span class="o">=</span> <span class="mi">6</span> <span class="c1"># White Wire</span>
<span class="n">ECHO_PIN</span> <span class="o">=</span> <span class="mi">26</span> <span class="c1"># Yellow Wire</span>

<span class="c1"># Init HC-SR04P pins</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="n">TRIGGER_PIN</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span> <span class="c1"># send trigger out to sensor</span>
<span class="n">echo</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="n">ECHO_PIN</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span> <span class="c1"># get the delay interval back</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ping</span><span class="p">():</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">low</span><span class="p">()</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep_us</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Wait 2 microseconds low</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">high</span><span class="p">()</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep_us</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Stay high for 5 microseconds</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">low</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">echo</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">signaloff</span> <span class="o">=</span> <span class="n">utime</span><span class="o">.</span><span class="n">ticks_us</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">echo</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">signalon</span> <span class="o">=</span> <span class="n">utime</span><span class="o">.</span><span class="n">ticks_us</span><span class="p">()</span>
    <span class="n">timepassed</span> <span class="o">=</span> <span class="n">signalon</span> <span class="o">-</span> <span class="n">signaloff</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="p">(</span><span class="n">timepassed</span> <span class="o">*</span> <span class="mf">0.0343</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">distance</span> <span class="o">*</span> <span class="mf">.254</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distance:&quot;</span><span class="p">,</span> <span class="n">ping</span><span class="p">(),</span> <span class="s2">&quot;inches&quot;</span><span class="p">)</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Assemble the chassis</strong></p>
<p><img alt="Board Placement" src="../img/BoardPlacement.jpg" /><img alt="Board Marked" src="../img/BoardMarked.jpg" /></p>
<p>Place the Maker PI RP2040 board on the rear of the chassis as shown and mark the small holes that are in each corner.  Make sure the back of the board is closer to the back of the chassis, since the motors will end up close to the front board mounts.</p>
<p><img alt="Drill Holes" src="../img/DrillHoles.jpg" /></p>
<p>Once the holes are marked, drill the holes, using an 1/8 inch drill bit.  Be careful, as your mounting holes may be close to existing mount holes in the chassis.  Also note that the chassis is thin plastic, so it must be supported as you drill through it.</p>
<p><img alt="Peel Paper" src="../img/PeelPaper.jpg" /></p>
<p>After the holes are drilled, remove the paper from the chassis, motor mounts, and sensor mount.  All parts should be clear plastic after the paper is romoved.</p>
<p><img alt="Wheel Parts" src="../img/WheelParts.jpg" /><img alt="Motor Assembly" src="../img/MotorAssembly.jpg" /></p>
<p>Gather the wheel, motor, mounts, long screws, and nut as shown above.  Slide the motor mounts through the chassis, then insert and secure the motor with the screws.  Note that the wires will seperate from the motor if not handled with care.  The wires should be on the side of the motor that faces out from the chassis.  Once the motor is mounted, feed the wires through the chassis and optionally secure them with a wire tie.</p>
<p><img alt="Wheel Added" src="../img/WheelAdded.jpg" /><img alt="Motor Wires" src="../img/MotorWires.jpg" /></p>
<p>Add the wheel once the motor is mounted and repeat for the other side.</p>
<p><img alt="Battery Holder" src="../img/BatteryHolder.jpg" /></p>
<p>The battery holder is mounted on the bottom of the chassis, nestled between the motors.  The wires from the battery holder should feed to the rear of the chassis.</p>
<p><img alt="Rear Wheel" src="../img/RearWheel.jpg" /><img alt="Rear Wheel Added" src="../img/RearWheelAssembled.jpg" /></p>
<p>Assemble the rear wheel by adding the standoffs to the castor wheel as shown in the above left image.  Then attach it to the chassis.  The wires for the battery holder are shown feeding through the hole to the left of the motor wires.  They will need to be fed through the right side (assembler error).</p>
<p><img alt="Nut and Bolt" src="../img/NutAndBolt.jpg" /><img alt="Rear Wire View" src="../img/RearWires.jpg" /></p>
<p>Feed the screws up through the bottom of the chassis in the holes that were drilled.  Use the plastic spacers to separate the board from the chassis (and clear the wires), then secure the board with the nuts.  The board should be mounted such that the connections to the motor and battery wires face the rear of the chassis.  The wires can now be trimmed and attached to the board.  Carefully note that the black battery wire connects to the negative (-) green terminal and the red battery wire attaches to the positive (+) green terminal.  The motor wires should connect to the black terminals, with the black wires on the outside (terminals labeled GP8 and GP 11) and the red wires on the inside (terminals labeled GP 9 and GP 10).</p>
<p><img alt="Sensor Assembly" src="../img/SensorAssembly.jpg" /><img alt="Sensor Mounted" src="../img/SensorMounted.jpg" /><img alt="Sensor Wired" src="../img/SensorWired.jpg" /></p>
<p>Insert the ultrasonic sensor in the mount with the pins up (it will appear as if the sensor is mounted upside down, well it is).  Then attach the mount to the front of the chassis with the short screws.  Disconnect the wires from the sensor (assuming they are still attached from previous testing) and thread the wires from the grove 5 port through the chassis and back to the sensor.  Use a small wire tie to keep the wires secure.</p>
<p><img alt="Bluetooth Module" src="../img/BlueToothMounted.jpg" /></p>
<p>The bluetooth module will nestle between the wire ties used to tidy up the wires.  Disconnect the wires from the bluetooth module and thread the wires from the grove 3 port through the chassis and reconnect to the module as shown.  This completes the chassis assembly.</p>
<p><strong>Putting it all together</strong></p>
<p>Now that all the individual parts have been assembled and tested, the final code is below.  Note that the control wiring for the motors may be different for you.  You may have to adjust in order for your robot car to move as desired. Run the code from your IDE to test functionality before saving it to the board.  You should be able to connect to the bluetooth module to send commands as shown below:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Direction</th>
</tr>
</thead>
<tbody>
<tr>
<td>h</td>
<td>halt (stop the wheels)</td>
</tr>
<tr>
<td>f</td>
<td>forward fast (both wheels spin clockwise)</td>
</tr>
<tr>
<td>s</td>
<td>forward slow (both wheels spin clockwise)</td>
</tr>
<tr>
<td>l</td>
<td>turn left (right wheel spins clockwise, left wheel spins counter clockwise)</td>
</tr>
<tr>
<td>r</td>
<td>turn right (right wheel spins counter clockwise, left wheel spins clockwise)</td>
</tr>
</tbody>
</table>
<ul>
<li>Add additional code to make the bot run backwards (fast or slow) on command.</li>
</ul>
<p>Additionally, you should be able to wave your hand in front of the ultrasonic sensor and see the wheels slow, reverse, and turn.</p>
<p><em>Add batteries, download the code to the board as main.py, and Happy motoring!</em></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">PWM</span><span class="p">,</span> <span class="n">UART</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">utime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">neopixel</span><span class="w"> </span><span class="kn">import</span> <span class="n">NeoPixel</span>

<span class="n">NUMBER_PIXELS</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">LED_PIN</span> <span class="o">=</span> <span class="mi">18</span>

<span class="c1">#Define the pin as output</span>
<span class="n">pin</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="n">LED_PIN</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

<span class="c1"># Define the NeoPixel Strip</span>
<span class="n">strip</span> <span class="o">=</span> <span class="n">NeoPixel</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">NUMBER_PIXELS</span><span class="p">)</span>

<span class="c1"># Color RGB values</span>
<span class="n">red</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">yellow</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">black</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">startColors</span> <span class="o">=</span> <span class="p">(</span><span class="n">red</span><span class="p">,</span> <span class="n">black</span><span class="p">,</span> <span class="n">red</span><span class="p">,</span> <span class="n">black</span><span class="p">,</span> <span class="n">yellow</span><span class="p">,</span> <span class="n">black</span><span class="p">,</span> <span class="n">yellow</span><span class="p">,</span> <span class="n">black</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">black</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">black</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">showColor</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUMBER_PIXELS</span><span class="p">):</span>
        <span class="n">strip</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
    <span class="n">strip</span><span class="o">.</span><span class="n">write</span><span class="p">()</span>

<span class="c1"># Using Grove 5 Connector</span>
<span class="n">TRIGGER_PIN</span> <span class="o">=</span> <span class="mi">6</span> <span class="c1"># White Wire</span>
<span class="n">ECHO_PIN</span> <span class="o">=</span> <span class="mi">26</span> <span class="c1"># Yellow Wire</span>

<span class="c1"># Init HC-SR04P pins</span>
<span class="n">trigger</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="n">TRIGGER_PIN</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span> <span class="c1"># send trigger out to sensor</span>
<span class="n">echo</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="n">ECHO_PIN</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span> <span class="c1"># get the delay interval back</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ping</span><span class="p">():</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">low</span><span class="p">()</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep_us</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># Wait 2 microseconds low</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">high</span><span class="p">()</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep_us</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Stay high for 5 microseconds</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">low</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">echo</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">signaloff</span> <span class="o">=</span> <span class="n">utime</span><span class="o">.</span><span class="n">ticks_us</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">echo</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">signalon</span> <span class="o">=</span> <span class="n">utime</span><span class="o">.</span><span class="n">ticks_us</span><span class="p">()</span>
    <span class="n">timepassed</span> <span class="o">=</span> <span class="n">signalon</span> <span class="o">-</span> <span class="n">signaloff</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="p">(</span><span class="n">timepassed</span> <span class="o">*</span> <span class="mf">0.0343</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">distance</span> <span class="o">*</span> <span class="mf">.254</span>

<span class="n">BUZZER_PIN</span> <span class="o">=</span> <span class="mi">22</span>
<span class="n">buzzer</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="n">BUZZER_PIN</span><span class="p">))</span>

<span class="k">def</span><span class="w"> </span><span class="nf">playTone</span><span class="p">():</span>
    <span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">buzzer</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">stopTone</span><span class="p">():</span>
    <span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">#define the UART</span>
<span class="n">uart0</span> <span class="o">=</span> <span class="n">UART</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">,</span> <span class="n">tx</span><span class="o">=</span><span class="n">Pin</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">rx</span><span class="o">=</span><span class="n">Pin</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Get the data from the UART</span>
<span class="k">def</span><span class="w"> </span><span class="nf">readUartBytes</span><span class="p">(</span><span class="n">uart</span><span class="p">):</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span>
    <span class="k">while</span> <span class="n">uart</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">resp</span><span class="p">,</span> <span class="n">uart</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
    <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c1"># Motor definitions</span>
<span class="n">FULL_POWER_LEVEL</span> <span class="o">=</span> <span class="mi">65024</span>
<span class="n">RIGHT_FORWARD_PIN</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">RIGHT_REVERSE_PIN</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">LEFT_FORWARD_PIN</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">LEFT_REVERSE_PIN</span> <span class="o">=</span> <span class="mi">8</span>

<span class="n">right_forward</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="n">RIGHT_FORWARD_PIN</span><span class="p">))</span>
<span class="n">right_forward</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">right_reverse</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="n">RIGHT_REVERSE_PIN</span><span class="p">))</span>
<span class="n">right_reverse</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">left_forward</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="n">LEFT_FORWARD_PIN</span><span class="p">))</span>
<span class="n">left_forward</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">left_reverse</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="n">LEFT_REVERSE_PIN</span><span class="p">))</span>
<span class="n">left_reverse</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">forward</span><span class="p">():</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span><span class="p">)</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">forwardSlow</span><span class="p">():</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">reverse</span><span class="p">():</span>
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">reverseSlow</span><span class="p">():</span>
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">left</span><span class="p">():</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>    
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">right</span><span class="p">():</span>
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>    
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">stop</span><span class="p">():</span>
    <span class="n">right_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">right_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">reverseAndTurn</span><span class="p">():</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>
    <span class="n">reverseSlow</span><span class="p">()</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
    <span class="n">left_reverse</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">left_forward</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="n">FULL_POWER_LEVEL</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.75</span><span class="p">)</span>
    <span class="n">stop</span><span class="p">()</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
    <span class="n">stopTone</span><span class="p">()</span>

<span class="n">stop</span><span class="p">()</span>    
<span class="n">auto</span> <span class="o">=</span> <span class="kc">False</span><span class="p">;</span>
<span class="n">autoPin</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
<span class="n">leftPin</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
<span class="n">rightPin</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Pin</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">autoPin</span><span class="o">.</span><span class="n">value</span><span class="p">():</span>
        <span class="n">auto</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>

<span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">startColors</span><span class="p">:</span>
    <span class="n">showColor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="n">utime</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>

<span class="k">while</span> <span class="n">auto</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">leftPin</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="ow">and</span> <span class="n">rightPin</span><span class="o">.</span><span class="n">value</span><span class="p">():</span>
        <span class="n">stop</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">leftPin</span><span class="o">.</span><span class="n">value</span><span class="p">():</span>
        <span class="n">left</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">rightPin</span><span class="o">.</span><span class="n">value</span><span class="p">():</span>
        <span class="n">right</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">forwardSlow</span><span class="p">()</span>

<span class="n">forward</span><span class="p">()</span>      <span class="c1"># Assume the way ahead is clear</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">green</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">dir</span> <span class="o">=</span> <span class="n">readUartBytes</span><span class="p">(</span><span class="n">uart0</span><span class="p">)</span> <span class="c1"># read from the UART</span>
    <span class="k">if</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span>
        <span class="n">stop</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">red</span>
    <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span>
        <span class="n">forward</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">green</span>
    <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;l&#39;</span><span class="p">:</span>
        <span class="n">left</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">green</span>
    <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
        <span class="n">right</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">green</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">ping</span><span class="p">()</span>  <span class="c1"># Check the distance</span>
    <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="ow">or</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span>   <span class="c1"># Obstruction ahead, slow down</span>
        <span class="n">forwardSlow</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">yellow</span>
    <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mf">2.5</span><span class="p">:</span> <span class="c1"># Obstruction too close, stop, and play tone</span>
        <span class="n">stop</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">red</span>
        <span class="n">playTone</span><span class="p">()</span>
    <span class="n">showColor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mf">2.5</span><span class="p">:</span>  <span class="c1"># If we were too close, back up and turn</span>
        <span class="n">reverseAndTurn</span><span class="p">()</span>
        <span class="n">forward</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">green</span>
</code></pre></div></td></tr></table></div>
<p><strong>The instructions for using the line sensors are as follows</strong></p>
<p>Attach the sensors to the front of the chassis as shown</p>
<p><img alt="Line Follower" src="../img/lineFollower.jpg" /></p>
<p>Red wire to VCC</p>
<p>Black wire to GND</p>
<p>White wite to DO</p>
<p>The left sensor should be connected to Grove 7 and the right sensor should be connected to Grove 1</p>
<p>To start the line following code, start with the power switch in the off position, hold down the GP20 button, turn on the power switch, 
wait until the board starts flashing red, then release the button and place the bot on the track.  You may need to adjust the sensitivity 
of the sensors such that it picks up the difference between the dark line and the light "track."  I use black electrical tape on white card 
stock paper for my track.     </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>